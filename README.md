# Agent

项目中的数据上游一般有三个源：用户输入、数据库读操作、服务端，而下游一般会到达：客户端应用内存、数据库写操作、服务端、视图界面。而用户输入的这个上游，我一般也看作是客户端应用内存。总结下来，数据不管上游下游，只在三个地方存在：应用内存、数据库、服务端，感觉好废话哈。

仔细想想，对业务层来说，数据本身从数据库读取或从服务端读取都无所谓，反正你给我一个地方读到我想要的数据。同样，业务层要写入数据，其实它也不用管是服务端还是数据库接收，反正有一个地方能好好对待我给出的数据就行。所以，对于业务层来说，数据库、服务端这两层是可以混在一起的，这两层混在一起，对于跨平台应用也是适用的，只要平台间业务功能没太大出入，用的还是同一套服务端数据结构，自然，各平台客户端的服务端api 甚至数据库持久层的结构都是十分相近的。

综上，我们需要一套方案来实现下面的功能：

1. 数据持久层、网络层合并，封装成api 供业务层读写，进而解耦业务层、持久层、网络层；
2. 业务层可以接触到的api 都有着一致的调用方式、一致的返回体、一致的错误反馈方式；

Agent 就是设计来实现上面功能的。

不是一个完备的JS 工具库，单纯从项目中抽取出来的而已。

